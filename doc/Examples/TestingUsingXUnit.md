<!-- This file was auto-generated by SweetDoky -->
# Testing using x unit 

## Trying to add a book that is not in stock should be logged 

```csharp
var timeProvider = new FakeTimeProvider();
var fixture = SweetMock.Fixture.ShoppingBasket(config =>
{
    config.time.Initialize(timeProvider);
    config.stockHandler
        .IsBookInStock(true)
        .TryGetLease(returns: Task.FromResult(true), out_bookLease : new("", Guid.NewGuid(), TimeSpan.FromHours(1)));
    config.user.Id(Guid.NewGuid());
    config.repo.AddBook();
});
var sut = fixture.CreateShoppingBasket();

await sut.Add("isbn 0-434-00348-4");

var actual = Assert.Single(fixture.Calls.logger.Log(t => t.logLevel == LogLevel.Debug));
Assert.Equal("Book isbn 0-434-00348-4 has been added", actual.message);
```

